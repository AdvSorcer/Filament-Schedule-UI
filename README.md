# Filament Schedule UI

一個基於 Filament 的 Laravel 排程管理工具，讓您可以在後台介面中輕鬆管理和監控所有排程任務。

## 功能特色

### 📋 排程管理
- **自動同步**：自動從程式碼中同步所有排程任務到資料庫
- **排程列表**：清晰顯示所有排程任務，包含名稱、命令、執行時間等資訊
- **啟用/停用**：一鍵切換排程的啟用狀態
- **立即執行**：手動觸發排程執行，無需等待排程時間
- **完整記錄**：記錄每次排程執行的詳細資訊
- **執行狀態**：顯示執行成功、失敗、跳過等狀態
- **執行輸出**：查看完整的命令執行輸出
- **執行時長**：記錄每次執行的耗時
- **錯誤追蹤**：記錄執行失敗時的錯誤訊息


## 使用方式

### 1. 同步排程

首次使用時，需要將程式碼中的排程同步到資料庫：

1. 在 Filament 後台進入「排程任務」頁面
2. 點擊右上角的「同步排程」按鈕
3. 系統會自動掃描並同步所有排程任務




## 排程設定

### ⚠️ 重要提醒

**在 Laravel 11+ 中，所有排程任務必須在 `routes/console.php` 中定義。**

如果您建立了新的 Artisan 命令（Command），記得要在 `routes/console.php` 中使用 `Schedule::command()` 註冊排程，然後在後台執行「同步排程」才會出現在 UI 中。

### 範例

在 `routes/console.php` 中定義排程：

```php
use Illuminate\Support\Facades\Schedule;

Schedule::command('say:hi')
    ->dailyAt('08:00')
    ->description('每天早上 8 點說 Hi');
```

定義完成後，在後台點擊「同步排程」即可將排程加入管理系統。

## 注意事項

- **排程註冊位置**：所有排程必須在 `routes/console.php` 中定義（Laravel 11+ 的新結構）
- **同步排程**：建立新的 Command 後，記得在 `routes/console.php` 中註冊排程，然後執行「同步排程」才會出現在 UI 中
- 排程任務會自動從程式碼同步，無需手動建立
- 停用的排程不會執行，但仍會保留在列表中
- 執行記錄會永久保存，方便追蹤歷史執行情況
- 建議定期同步排程，確保資料庫中的排程與程式碼一致

